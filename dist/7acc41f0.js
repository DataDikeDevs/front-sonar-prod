import{_ as f,x as c,i as l,h as t,g as i,m as a,E as h,A as g,o as z,I as x,G as m,n as d,p as r}from"./7e207d24.js";import{a as V}from"./48c23d68.js";import{Q as v}from"./99821dad.js";import{T as y,m as _}from"./1a2e572b.js";import"./c0fd0898.js";const w={name:"InitialSetup",components:{TacticalDropdown:y},mixins:[_],data(){return{client:{name:""},site:{name:""},allTimezones:[],timezone:null,arch:"64",companyname:""}},methods:{finish(){if(!this.timezone){this.notifyError("Please select a default agent timezone");return}this.$q.loading.show();const s={client:this.client,site:this.site,timezone:this.timezone,companyname:this.companyname,initialsetup:!0};this.$axios.post("/clients/",s).then(()=>{this.$q.loading.hide(),this.$router.push({name:"Home"})}).catch(()=>this.$q.loading.hide())},getSettings(){this.$axios.get("/core/settings/").then(s=>{this.allTimezones=Object.freeze(s.data.all_timezones),this.timezone=s.data.default_time_zone})}},mounted(){this.getSettings()}},b={class:"container"},S={class:"my-card"};function I(s,e,T,Q,o,u){const p=g("tactical-dropdown");return z(),c("div",b,[l("div",S,[t(x,{align:"center"}),t(a,{class:"row items-center"},{default:i(()=>e[4]||(e[4]=[l("div",{class:"text-h5 text-weight-bold"},"Initial Setup",-1)])),_:1}),t(v,{onSubmit:h(u.finish,["prevent"])},{default:i(()=>[t(a,null,{default:i(()=>[e[5]||(e[5]=l("div",null,"Add Client:",-1)),t(m,{dense:"",outlined:"",modelValue:o.client.name,"onUpdate:modelValue":e[0]||(e[0]=n=>o.client.name=n),rules:[n=>!!n||"*Required"]},{prepend:i(()=>[t(d,{name:"business"})]),_:1},8,["modelValue","rules"])]),_:1}),t(a,null,{default:i(()=>[e[6]||(e[6]=l("div",null,"Add Tenant:",-1)),t(m,{dense:"",outlined:"",modelValue:o.site.name,"onUpdate:modelValue":e[1]||(e[1]=n=>o.site.name=n),rules:[n=>!!n||"*Required"]},{prepend:i(()=>[t(d,{name:"apartment"})]),_:1},8,["modelValue","rules"])]),_:1}),t(a,null,{default:i(()=>[e[7]||(e[7]=l("div",null,"Default timezone for agents:",-1)),t(p,{filterable:"",clearable:"",dense:"","options-dense":"",outlined:"",modelValue:o.timezone,"onUpdate:modelValue":e[2]||(e[2]=n=>o.timezone=n),options:o.allTimezones},null,8,["modelValue","options"])]),_:1}),t(a,null,{default:i(()=>[l("div",null,[e[9]||(e[9]=r(" Company name: ")),t(d,{name:"ion-information-circle-outline",size:"sm",class:"q-ml-sm cursor-pointer"},{default:i(()=>[t(V,{class:"text-caption"},{default:i(()=>e[8]||(e[8]=[r(" Adding your company name here will append it to the user's full name that appears when doing a remote control session, for example: 'John Doe - Amidaware Inc.' ")])),_:1})]),_:1})]),t(m,{dense:"",outlined:"",modelValue:o.companyname,"onUpdate:modelValue":e[3]||(e[3]=n=>o.companyname=n)},null,8,["modelValue"])]),_:1}),e[10]||(e[10]=l("div",{class:"card-footer"},[l("button",{class:"btn btn-primary w-full",type:"submit"},"Finish")],-1))]),_:1},8,["onSubmit"])])])}var D=f(w,[["render",I]]);export{D as default};
